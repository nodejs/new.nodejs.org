---
title: 메모리
layout: learn
---

# 메모리

이 문서에서는 메모리 관련 문제를 디버깅하는 방법에 대해 배울 수 있습니다.

## 제 프로세스에서 메모리가 부족해요

Node.js *(JavaScript)*는 가비지 컬렉션 언어이기 때문에 메모리 누수가 리테이너를 통해 발생할 수 있습니다. Node.js 애플리케이션은 일반적으로 멀티 테넌트, 중요한 비즈니스 로직, 장기 실행을 특징으로 하므로, 메모리 누수를 찾는 접근성 높고 효율적인 방법을 제공하는 것이 필수적입니다.

### 증상

사용자는 메모리 사용량이 계속 증가하는 것을 관찰합니다 _(빠르거나 느릴 수 있으며, 며칠 또는 몇 주에 걸쳐 발생할 수 있음)_. 그러면 프로세스가 충돌하고 프로세스 관리자가 재시작하는 것을 보게 됩니다. 프로세스는 이전보다 느리게 실행될 수 있으며, 재시작으로 인해 일부 요청이 실패합니다 _(로드 밸런서가 502 응답을 반환)_.

### 부작용

- 메모리 소진으로 인한 프로세스 재시작 및 요청이 처리되지 않음
- GC 활동 증가로 인해 CPU 사용량이 높아지고 응답 시간이 느려짐
  - GC가 이벤트 루프를 차단하여 지연 발생
- 메모리 스와핑 증가로 인해 프로세스가 느려짐 (GC 활동)
- 힙 스냅샷을 얻을 수 있을 만큼의 사용 가능한 메모리가 부족할 수 있음

## 제 프로세스에서 메모리를 비효율적으로 사용해요

### 증상

애플리케이션이 예상보다 많은 메모리를 사용하고 있거나, 가비지 컬렉터 활동이 증가하는 것을 관찰합니다.

### 부작용

- 페이지 폴트 수 증가
- GC 활동 증가 및 CPU 사용량 증가

## 디버깅

대부분의 메모리 문제는 특정 유형의 객체가 얼마나 많은 공간을 차지하는지, 그리고 어떤 변수가 가비지 컬렉션을 방해하는지 확인함으로써 해결할 수 있습니다. 또한 프로그램의 시간 경과에 따른 할당 패턴을 아는 것도 도움이 될 수 있습니다.

- [힙 프로파일러 사용하기](/learn/diagnostics/memory/using-heap-profiler/)
- [힙 스냅샷 사용하기](/learn/diagnostics/memory/using-heap-snapshot/)
- [GC 추적](/learn/diagnostics/memory/using-gc-traces)
