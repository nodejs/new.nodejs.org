import { NodeDataProvider } from '../providers/nodeDataProvider';
import { LocaleProvider } from '../providers/localeProvider';
import { SiteProvider } from '../providers/siteProvider';
import sourceSansPro from '../util/sourceSansPro';
import '../styles/styles.scss';
import '../styles/tokens.scss';

export default function App({ Component, pageProps }) {
  return (
    <SiteProvider>
      <LocaleProvider i18nData={pageProps.i18nData}>
        <NodeDataProvider nodeVersionData={pageProps.nodeVersionData}>
          {/* @TODO: This is a temporary solution. We might want to adopt Emotion/StyledComponents here */}
          <style jsx global>
            {`
              body {
                font: 400 20px/1.5 ${sourceSansPro.style.fontFamily}, 'Open Sans',
                  Roboto, 'San Francisco', Helvetica, Arial, sans-serif;
              }
            `}
          </style>
          <Component {...pageProps} />
        </NodeDataProvider>
      </LocaleProvider>
    </SiteProvider>
  );
}
